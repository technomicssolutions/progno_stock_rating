{% extends 'public_base.html' %}
{% block body_id %}star_rating{% endblock %}
{% block controller %}ng-controller="StarRatingController" ng-init="init('{{csrf_token}}', '{{star_count}}')" {% endblock controller %}
{% block content %}
	<div class="container page_content">
		<div class="row">
			<div class="col-md-12">
				<h3>The [[count]] Star Performers</h3>
				<ul class="header_ul">
					<li>You can add maximum 20 stocks in Watch List</li>
					<li>You have [[watch_list_count]] stock in Watch List</li>
					<li>You have added [[compare_list_count]] stocks to compare. Click to View Compare</li>
				</ul>
				<p class="error_msg" ng-show="error">No Companies with [[count]] star rating</p>
				<p class="error_msg">[[error_message]]</p>				
			</div>
		</div>
	</div>
	<div class="container page_content">
		<div class="row">
			<div class="col-md-12">
				<table class="table table-striped list_table" ng-show="visible_list.length > 0">
					<tr>
						<th>Company Name</th>
						<th>Industry</th>
						<th>Star Rating</th>
						<th>Score</th>
						<th>Price BSE</th>
						<th>Price NSE</th>
						<th>Rating Changed on </th>
						<th>&nbsp;</th>
					</tr>
					<tbody ng-repeat="star_rating in visible_list" >
						<tr>
							<td>[[star_rating.company_name]]</td>
							<td>[[star_rating.industry]]</td>
							<td class="star_holder">
								<img ng-repeat="star in range(star_rating.star_count) track by $index" src="/static/images/star.png" />
							</td>
							<td>[[star_rating.score]]</td>
							<td>NSE</td>
							<td>BSE</td>
							<td>
								<span ng-show="star_rating.change>0"> 
									up by <img ng-repeat="star in range(star_rating.change) track by $index" src="/static/images/star.png" />
								</span>
								<span ng-show="star_rating.change<0"> 
									down by <img ng-repeat="star in range(star_rating.change) track by $index" src="/static/images/star.png" />
								</span>
							</td>					
							<td class="">
								<a href="" ng-click="view_rating_report(star_rating)" class="aqua_button">View Report</a> 
								<a href="" ng-show="star_rating.company_in_compare_list == 'false' " ng-click="add_to_compare_list(star_rating)" class="aqua_button with_margin">Add to Compare</a>
							</td>
						</tr>
					</tbody>
					<tbody>
						<tr>
							<td colspan="8">
								{% include 'pagination.html' %}
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	{% include 'content_footer.html' %}
{% endblock %}